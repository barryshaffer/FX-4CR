#include "filter.h"
#include "arm_math.h"
//
//
/*
*********************************************************************************
*	 FIR 希尔伯特变换滤波器
*********************************************************************************
*/
//这是希尔伯特变换滤波器,
//取样频率12kHz
//TOPS==48,fc1=300Hz,fc2=5700Hz
const arm_fir_instance_f32 Hilbert_Transform_Q =	
{
	 .numTaps = 33,

    .pCoeffs = (float*) (const float[])
    {
	/** Fs=96000, Fstop1=0, Fpass1=6000, Fpass2=42000,Fstop=48000 **/		
		-8.220843859e-16,-0.001777932164,-1.926061019e-15,-0.005562213715,-2.044831132e-15,
	   -0.01344253961,-3.382997287e-15, -0.02778125182,-3.814329969e-15, -0.05258246139,
	  -3.401433594e-15, -0.09685219824,-2.873174932e-15,  -0.1925612837,-1.619998263e-15,
		-0.6298295856,              0,   0.6298295856,1.619998263e-15,   0.1925612837,
	  2.873174932e-15,  0.09685219824,3.401433594e-15,  0.05258246139,3.814329969e-15,
		0.02778125182,3.382997287e-15,  0.01344253961,2.044831132e-15, 0.005562213715,
	  1.926061019e-15, 0.001777932164,8.220843859e-16
	/** BW=5.400kHz/6db,Fs=12.000kHz,Fc=300/5700kHz **/
//	   -0.0002437003714, 1.51420586e-15,-0.0003559623729,-6.72674762e-16,-0.0006055202684,
//	  -1.062255549e-15,-0.0009602527134,1.371971875e-15,-0.001447640592,-4.027074682e-16,
//	  -0.002099034376,1.698237849e-15,-0.002950254595,-4.103501935e-16,-0.004042161163,
//	  -1.266857151e-16,-0.005421582609,  4.4712667e-16,-0.007143167313,5.336789847e-16,
//	  -0.009271968156,-5.107546203e-16, -0.01188854501, 7.69275058e-16, -0.01509576943,
//	  -2.067761478e-16, -0.01903333701,4.984124503e-16, -0.02389870957,-7.779322641e-17,
//	   -0.02999048121,1.574244614e-16, -0.03778679669,-2.116003843e-16, -0.04811433703,
//	  -3.85247578e-16, -0.06254070997,2.113340454e-16, -0.08443821967,4.660450715e-17,
//		-0.1226026043,-2.523640434e-16,  -0.2093439847,-6.954954443e-17,  -0.6356605887,
//					0,   0.6356605887,6.954954443e-17,   0.2093439847,2.523640434e-16,
//		 0.1226026043,-4.660450715e-17,  0.08443821967,-2.113340454e-16,  0.06254070997,
//	   3.85247578e-16,  0.04811433703,2.116003843e-16,  0.03778679669,-1.574244614e-16,
//		0.02999048121,7.779322641e-17,  0.02389870957,-4.984124503e-16,  0.01903333701,
//	  2.067761478e-16,  0.01509576943,-7.69275058e-16,  0.01188854501,5.107546203e-16,
//	   0.009271968156,-5.336789847e-16, 0.007143167313, -4.4712667e-16, 0.005421582609,
//	  1.266857151e-16, 0.004042161163,4.103501935e-16, 0.002950254595,-1.698237849e-15,
//	   0.002099034376,4.027074682e-16, 0.001447640592,-1.371971875e-15,0.0009602527134,
//	  1.062255549e-15,0.0006055202684, 6.72674762e-16,0.0003559623729,-1.51420586e-15,
//	  0.0002437003714
    }
};

// 这是FIR带通滤波器,与希尔伯特变换滤波器配套，用于延迟
// 采用 MATLAB fdatool 设计的滤波器 BG2IXD 2020-05-20
// 12k sampling rate, 
// 3rd order, FIR window Kaiser, 12 ksps, Fpass=10000, Fstop=15000, Wpass=10, Wstop=1
// pCoeffs
const arm_fir_instance_f32 Hilbert_Transform_I =
{
	 .numTaps =33 ,

    .pCoeffs = (float*) (const float[])
    {
		/** Fs=12000, Fstop1=0, Fpass1=6000, Fpass2=42000,Fstop=96000 **/	
		 -0.005591029301,1.333573709e-05, -0.01311388705,4.059425555e-05, -0.02560850605,
	  8.669407543e-05, -0.04238025472,0.0001505649561, -0.06203493848,0.0002254078863,
	   -0.08213257045,0.0002998707641, -0.09963619709,0.0003601305943,  -0.1115855202,
	  0.0003940626048,   0.8841658235,0.0003940626048,  -0.1115855202,0.0003601305943,
	   -0.09963619709,0.0002998707641, -0.08213257045,0.0002254078863, -0.06203493848,
	  0.0001505649561, -0.04238025472,8.669407543e-05, -0.02560850605,4.059425555e-05,
	   -0.01311388705,1.333573709e-05,-0.005591029301
		/** Fs=12000, Fstop1=0, Fpass1=300, Fpass2=5700,Fstop=6000 **/	
//	  -0.0003576482122,-0.001500435406,-3.57743229e-05,-0.001724967384,-0.0001667364413,
//	   -0.00258030463,-0.0002011661854,-0.003693917301,-0.0002273478312,-0.005065353122,
//	  -0.0002474922803,-0.006706240121, -0.00025951321, -0.00862108171,-0.0002616822312,
//	   -0.01080461778,-0.0002523898438, -0.01324168593,-0.000231407379, -0.01590573974,
//	  -0.000198253183, -0.01875892282,-0.0001534030307, -0.02175249159,-9.740077076e-05,
//	   -0.02482962795,-3.254156036e-05,  -0.0279250443, 3.88333101e-05, -0.03096793033,
//	  0.0001145630304, -0.03388413042,0.0001907809637, -0.03659855574,0.0002641005849,
//	   -0.03904044628,0.0003322064877, -0.04114052281,0.0003903864999, -0.04284096882,
//	  0.0004370843817, -0.04409246892,0.0004690757778, -0.04485851899, 0.000485725468,
//		 0.9548840523, 0.000485725468, -0.04485851899,0.0004690757778, -0.04409246892,
//	  0.0004370843817, -0.04284096882,0.0003903864999, -0.04114052281,0.0003322064877,
//	   -0.03904044628,0.0002641005849, -0.03659855574,0.0001907809637, -0.03388413042,
//	  0.0001145630304, -0.03096793033, 3.88333101e-05,  -0.0279250443,-3.254156036e-05,
//	   -0.02482962795,-9.740077076e-05, -0.02175249159,-0.0001534030307, -0.01875892282,
//	  -0.000198253183, -0.01590573974,-0.000231407379, -0.01324168593,-0.0002523898438,
//	   -0.01080461778,-0.0002616822312, -0.00862108171, -0.00025951321,-0.006706240121,
//	  -0.0002474922803,-0.005065353122,-0.0002273478312,-0.003693917301,-0.0002011661854,
//	   -0.00258030463,-0.0001667364413,-0.001724967384,-3.57743229e-05,-0.001500435406,
//	  -0.0003576482122
    }
};
/*
*	TX发射SSB滤波器
*/
#define IIRTX_1k5_numStages 5
const arm_biquad_casd_df1_inst_f32 IIR_TX_1k5_BPF =
{
	.numStages = IIRTX_1k5_numStages,
	.pCoeffs = (float*) (const float[])
	{

/*** BW=1.500kHz,Fs=12.000kHz,Fpass1=450Hz,Fpass1=1850Hz,Apass=0.1db,Astop=50db ***/			
		1,   1.6849004452494327,  1,   1.6501729364147844,   -0.73745053746928546,
		1,  -1.9986741010442501,  1,   1.1139695844426711,   -0.5087082484098745, 
		1,   0.7413633324549409,  1,   0.90108696944097055,  -0.77386079361494076,
		1,  -1.9928912433126023,  1,   1.8926621234812848,   -0.93819042164920219
	},
};
//
#define IIRTX_1k8_numStages 5
const arm_biquad_casd_df1_inst_f32 IIR_TX_1k8_BPF =
{
	.numStages = IIRTX_1k8_numStages,
	.pCoeffs = (float*) (const float[])
	{

	/*** BW=1.800kHz,Fs=12.000kHz,Fpass=0.900kHz,Apass=0.5db,Astop=80db ***/
		1,  -1.6750015033145302,   1,   1.7421145744316571,  -0.94100531514140107,
		1,  -1.5760186341356361,   1,   1.7224193928411755,  -0.87689470412966974,
		1,  -1.2299575767888682,   1,   1.699997597412956,   -0.78971386485857686,
		1,   0.55512827641830398,  1,   1.6821227659954188,  -0.71645689574644034,
		1,  -1.7061875491005036,   1,   1.762323971322779,   -0.9828924598685439

	},
};
//
#define IIRTX_2k1_numStages 5
const arm_biquad_casd_df1_inst_f32 IIR_TX_2k1_BPF =
{
	.numStages = IIRTX_2k1_numStages,
	.pCoeffs = (float*) (const float[])
	{

	/*** BW=2.100kHz,Fs=12.000kHz,Fpass=1.050kHz,Apass=0.1db,Astop=80db ***/	
		1,  -1.5649333231727087,   1,   1.6642999390845841,  -0.9323243567453332, 
		1,  -1.4375581501020234,   1,   1.651080416857819,   -0.8589702726770132, 
		1,  -1.0097774778866977,   1,   1.6388730910560263,  -0.75943928526952831,
		1,   0.83735014988184464,  1,   1.6299057994996005,  -0.67599497965218813,
		1,  -1.6055475902268912,   1,   1.6826419420829364,  -0.98034440313851579
	
	},
};
//
#define IIRTX_2k4_numStages 5
const arm_biquad_casd_df1_inst_f32 IIR_TX_2k4_BPF =
{
	.numStages = IIRTX_2k4_numStages,
	.pCoeffs = (float*) (const float[])
	{

	/*** BW=2.400kHz,Fs=12.000kHz,Fpass=1.200kHz,Apass=0.1db,Astop=80db ***/	
		1,  -1.4423922644483245,   1,   1.577721343202187,   -0.92408776149155469,
		1,  -1.2863228058710376,   1,   1.5734241899685442,  -0.84190718325031866,
		1,  -0.78419858596740188,  1,   1.5748018316213159,  -0.73044504262974219,
		1,   1.0564095612525219,   1,   1.5775484428490882,  -0.63703207789812333,
		1,  -1.4928184797141593,   1,   1.5927480130567639,  -0.97792589326778534

	},
};
//
#define IIRTX_2k7_numStages 6
const arm_biquad_casd_df1_inst_f32 IIR_TX_2k7_BPF =
{
	.numStages = IIRTX_2k7_numStages,
	.pCoeffs = (float*) (const float[])
	{

	/*** BW=2.600kHz,Fs=12.000kHzFpass=1.350kHz,Apass=0.1db,Astop=75db ***/	
		1,   0.90803934261167918,  1,   0.47305613920582734,  -0.60407232193021443,
		1,  -1.9992488638384305,   1,   1.9655796266160535,   -0.96919412329377963,
		1,   1.7801729201702683,   1,   1.8582285184410035,   -0.86774050540752878,
		1,  -1.9998836542803979,   1,   0.88462559193007317,  -0.31574472592423547,
		1,   0.47904844230310473,  1,   0.24390709873717423,  -0.88080900894615277,
		1,  -1.9987728698334357,   1,   1.9909244557445698,   -0.99351134963918541
	},
};
const float32_t ScaleTX_2k7 = 	0.91556750648445173*                                                     
								0.91556750648445173*                                                     
								1.3431693436464571*                                                      
								1.3431693436464571*                                                      
								0.12673417873857729*                                                     
								0.12673417873857729;  

//
#define IIRTX_3k_numStages 5
const arm_biquad_casd_df1_inst_f32 IIR_TX_3k_BPF =
{
	.numStages = IIRTX_3k_numStages,
	.pCoeffs = (float*) (const float[])
	{

	/*** BW=3.000kHz,Fs=12.000kHz Fpass1=0.3kHz,Fpass2=3.2kHz,Apass=1db,Astop=80db ***/	
		1,   1.6808256256664738,   1,  -0.31270276523993951,  -0.77824504793393445,
		1,  -1.9973518134650019,   1,   1.9428659860131043,   -0.96378558069313325,
		1,   1.8667940129036915,   1,   1.8042114047979037,   -0.83906551953925124,
		1,  -1.9989475248728081,   1,   0.15457586547222663,  -0.38046921267035744,
		1,   0,                   -1,   1.0973053099576102,   -0.30750259640306915
	},
};
const float32_t ScaleTX_3k = 	0.52770678669342785*                                                     
								0.52770678669342785*                                                     
								0.50636096079786519*                                                     
								0.50636096079786519*                                                     
								0.62038681743710922;  

#define IIR_30k_numStages 4
const arm_biquad_casd_df1_inst_f32 IIR_30k_LPF =
{
	.numStages = IIR_30k_numStages,
	.pCoeffs = (float*) (const float[])
	{

	/*** BW=3.000kHz,Fs=12.000kHzFpass=1.500kHz,Apass=1db,Astop=70db ***/	
		1,  1.3878682297248421,  1,  -0.40445850764692526,   -0.64831371064352616, 
		1,  1.6731820076981956,  1,  -0.073936539225076911,  -0.34352605859344787, 
		1,  1.9533644138892221,  1,   0.24565065019348412,   -0.067800163695384663,
		1,  1.2381555523837695,  1,  -0.60628116614437633,   -0.88866390279057983 
	},
};
const float32_t ScaleTX_30k = 	0.92904517350068672*                                                     
								1.1583684368478457*                                                      
								2.797745227307078*                                                       
								0.012429078673800498 ;  

/*
*********************************************************************************
*	FIR 抗混叠抽取低通滤波器
*********************************************************************************
*/
// 这是低阶FIR低通滤波器,用于输入信号的抽取
// 采用 MATLAB fdatool 设计的滤波器 BG2IXD 2020-05-20
// 48k sampling rate, Lattice ARMA structure 采样率56kHz
// 3rd order, Least Pth-Norm, 48 ksps, Fpass=10000, Fstop=15000, Wpass=10, Wstop=1
// pCoeffs
/** BW=300Hz,Fs=48.000kHz,Fpass=150Hz,Apass=1db,Stop=60db **/
const arm_fir_decimate_instance_f32 FirDecimateMinLPF =
{
    .numTaps = 48,

    .pCoeffs = (float*) (const float[])
    {
	/** BW=6.100kHz/35db,Fs=96.000kHz,Fc=4.000kHz/6db,Kaiser,Beta=3 **/	
		 -0.0003661063383,-0.001341232797, -0.00261601503,-0.004118592013,-0.005725928582,
	  -0.007266080473,-0.008526082151,-0.009265338071,-0.009233792312,-0.008193556219,
	  -0.005942204967,-0.002335597295, 0.002692037961, 0.009112920612,  0.01679727994,
		 0.0255129654,  0.03493369743,  0.04465577751,  0.05422223732,  0.06315268576,
		0.07097646594,   0.0772664398,  0.08167041838,  0.08393760026,  0.08393760026,
		0.08167041838,   0.0772664398,  0.07097646594,  0.06315268576,  0.05422223732,
		0.04465577751,  0.03493369743,   0.0255129654,  0.01679727994, 0.009112920612,
	   0.002692037961,-0.002335597295,-0.005942204967,-0.008193556219,-0.009233792312,
	  -0.009265338071,-0.008526082151,-0.007266080473,-0.005725928582,-0.004118592013,
	   -0.00261601503,-0.001341232797,-0.0003661063383
    }
};
const arm_fir_decimate_instance_f32 FirDecimate_5k =
{
    .numTaps = 96,

    .pCoeffs = (float*) (const float[])
    {	
		/** BW=5.000kHz/40db,Fs=96.000kHz,Fc=4.000kHz/6db,Kaiser,Beta=4 **/		
	     -7.762278256e-05,-0.0002728580148,-0.0005132217775,-0.0007818592712,-0.001054223627,
	  -0.001299307798,-0.001481818617,-0.001565208426,-0.001515376964,-0.001304761623,
	  -0.0009164557559,-0.000347942987, 0.000385980471, 0.001251501264, 0.002195642795,
	   0.003147913609, 0.004023846705, 0.004730367102, 0.005172747653, 0.005262746476,
	   0.004927366506, 0.004117564298, 0.002816171385, 0.001044269186,-0.001134665217,
	  -0.003613429843,-0.006242980249,-0.008837700821, -0.01118398737, -0.01305179019,
	   -0.01420851517, -0.01443444844, -0.01353868097, -0.01137444191,-0.007852662355,
	  -0.002952715149, 0.003270623041,  0.01068468299,  0.01908131503,  0.02818427607,
		0.03766131774,  0.04714037105,  0.05622887984,  0.06453511119,   0.0716901049,
		0.07736876607,   0.0813088268,  0.08332628012,  0.08332628012,   0.0813088268,
		0.07736876607,   0.0716901049,  0.06453511119,  0.05622887984,  0.04714037105,
		0.03766131774,  0.02818427607,  0.01908131503,  0.01068468299, 0.003270623041,
	  -0.002952715149,-0.007852662355, -0.01137444191, -0.01353868097, -0.01443444844,
	   -0.01420851517, -0.01305179019, -0.01118398737,-0.008837700821,-0.006242980249,
	  -0.003613429843,-0.001134665217, 0.001044269186, 0.002816171385, 0.004117564298,
	   0.004927366506, 0.005262746476, 0.005172747653, 0.004730367102, 0.004023846705,
	   0.003147913609, 0.002195642795, 0.001251501264, 0.000385980471,-0.000347942987,
	  -0.0009164557559,-0.001304761623,-0.001515376964,-0.001565208426,-0.001481818617,
	  -0.001299307798,-0.001054223627,-0.0007818592712,-0.0005132217775,-0.0002728580148,
	  -7.762278256e-05
    }
};
//
const arm_fir_decimate_instance_f32 FirDecimate_10k =
{
    .numTaps = 96,
    .pCoeffs = (float*) (const float[])
	{
	/** BW=6.100kHz/40db,Fs=96.000kHz,Fc=5.000kHz/6db,Kaiser,Beta=3.5 **/	
	  0.0001472763834,0.0004927079426,0.0008740978083, 0.001240514917, 0.001531278482,
	   0.001683427254, 0.001640888164, 0.001364242751,0.0008397458587,8.616699051e-05,
	  -0.0008418661891,-0.001855032519,-0.002835509134,-0.003648085287,-0.004155408591,
	  -0.004235906061,-0.003802385647,-0.002818957902,-0.001313860528,0.0006140249316,
	   0.002796637127, 0.005007046741, 0.006978492718, 0.008430938236, 0.009102889337,
	   0.008785357699, 0.007354255766, 0.004797325004, 0.001231945818,-0.003089132253,
	   -0.00778601598,   -0.012374321, -0.01630118117, -0.01899200305, -0.01990399882,
	   -0.01858149469, -0.01470754296,-0.008146330714, 0.001028424595,  0.01252276823,
		0.02583152987,  0.04026719928,  0.05500682443,  0.06915316731,  0.08180490136,
		0.09212946892,  0.09943196923,    0.103213504,    0.103213504,  0.09943196923,
		0.09212946892,  0.08180490136,  0.06915316731,  0.05500682443,  0.04026719928,
		0.02583152987,  0.01252276823, 0.001028424595,-0.008146330714, -0.01470754296,
	   -0.01858149469, -0.01990399882, -0.01899200305, -0.01630118117,   -0.012374321,
	   -0.00778601598,-0.003089132253, 0.001231945818, 0.004797325004, 0.007354255766,
	   0.008785357699, 0.009102889337, 0.008430938236, 0.006978492718, 0.005007046741,
	   0.002796637127,0.0006140249316,-0.001313860528,-0.002818957902,-0.003802385647,
	  -0.004235906061,-0.004155408591,-0.003648085287,-0.002835509134,-0.001855032519,
	  -0.0008418661891,8.616699051e-05,0.0008397458587, 0.001364242751, 0.001640888164,
	   0.001683427254, 0.001531278482, 0.001240514917,0.0008740978083,0.0004927079426,
	  0.0001472763834
    }
};
//
/*
*********************************************************************************
*	FIR 内插低通滤波器
*********************************************************************************
*/
//SSB/CW  内插低通滤波器
const arm_fir_interpolate_instance_f32 FirInterpolate_4_5k=
{
    .phaseLength =48,
    .pCoeffs = (float*) (const float[])
	{
	/** BW=6.100kHz/35db,Fs=96.000kHz,Fc=4.000kHz/6db,Kaiser,Beta=3 **/	
		-0.0003661063383,-0.001341232797, -0.00261601503,-0.004118592013,-0.005725928582,
	  -0.007266080473,-0.008526082151,-0.009265338071,-0.009233792312,-0.008193556219,
	  -0.005942204967,-0.002335597295, 0.002692037961, 0.009112920612,  0.01679727994,
		 0.0255129654,  0.03493369743,  0.04465577751,  0.05422223732,  0.06315268576,
		0.07097646594,   0.0772664398,  0.08167041838,  0.08393760026,  0.08393760026,
		0.08167041838,   0.0772664398,  0.07097646594,  0.06315268576,  0.05422223732,
		0.04465577751,  0.03493369743,   0.0255129654,  0.01679727994, 0.009112920612,
	   0.002692037961,-0.002335597295,-0.005942204967,-0.008193556219,-0.009233792312,
	  -0.009265338071,-0.008526082151,-0.007266080473,-0.005725928582,-0.004118592013,
	   -0.00261601503,-0.001341232797,-0.0003661063383
    }
};
//NFM  内插低通滤波器
const arm_fir_interpolate_instance_f32 FirInterpolate_5k=
{
    .phaseLength = 96,
    .pCoeffs = (float*) (const float[])
	{	
	/** BW=4.000kHz/35db,Fs=96.000kHz,Fc=3.000kHz/6db,Kaiser,Beta=3 **/		
	     0.0001331498497,0.0004414666328, 0.000798377383, 0.001191025949, 0.001602195087,
	   0.002010715427, 0.002392149298,  0.00271974015, 0.002965604421, 0.003102122573,
	   0.003103478812, 0.002947280183, 0.002616183599, 0.002099444624, 0.001394305727,
	  0.0005071414635,-0.0005457153893,-0.001737536513,-0.003031198168,-0.004379655235,
	  -0.005726906471,-0.007009434979,-0.008158107288,-0.009100463241,-0.009763330221,
	   -0.01007566601,-0.009971524589,-0.009393017739,-0.008293149062,-0.006638399791,
	  -0.004410933238,-0.001610319014, 0.001745327027, 0.005618851166, 0.009954272769,
		0.01467771549,  0.01969904639,  0.02491418086,  0.03020800278,  0.03545775637,
		0.04053685442,  0.04531891271,  0.04968187585,  0.05351209268,  0.05670814589,
		0.05918433517,  0.06087362394,   0.0617299825,   0.0617299825,  0.06087362394,
		0.05918433517,  0.05670814589,  0.05351209268,  0.04968187585,  0.04531891271,
		0.04053685442,  0.03545775637,  0.03020800278,  0.02491418086,  0.01969904639,
		0.01467771549, 0.009954272769, 0.005618851166, 0.001745327027,-0.001610319014,
	  -0.004410933238,-0.006638399791,-0.008293149062,-0.009393017739,-0.009971524589,
	   -0.01007566601,-0.009763330221,-0.009100463241,-0.008158107288,-0.007009434979,
	  -0.005726906471,-0.004379655235,-0.003031198168,-0.001737536513,-0.0005457153893,
	  0.0005071414635, 0.001394305727, 0.002099444624, 0.002616183599, 0.002947280183,
	   0.003103478812, 0.003102122573, 0.002965604421,  0.00271974015, 0.002392149298,
	   0.002010715427, 0.001602195087, 0.001191025949, 0.000798377383,0.0004414666328,
	  0.0001331498497
    }
};
//FM  内插低通滤波器
const arm_fir_interpolate_instance_f32 FirInterpolate_10k=
{
    .phaseLength = 96,
    .pCoeffs = (float*) (const float[])
	{
	/** BW=6.000kHz/36db,Fs=96.000kHz,Fc=5.000kHz/6db,Kaiser,Beta=3 **/	
	    0.0002220115275,0.0007192638004, 0.001240199315,  0.00171571027, 0.002069481881,
	   0.002227679826, 0.002129817382, 0.001739442814, 0.001053145737,0.0001064150638,
	  -0.001024875091,-0.002228143858,-0.003363149473,-0.004275930114,-0.004816473462,
	  -0.004858331755,-0.004317948129,-0.003171227872,-0.001464965404,0.0006789085455,
	   0.003067640355, 0.005451025907,  0.00754331518, 0.009052068926,  0.00971141085,
	   0.009316367097, 0.007754553109, 0.005031407811, 0.001285555423,-0.003208310809,
	  -0.008050520904, -0.01274157502, -0.01671994664, -0.01940969378, -0.02027382515,
	   -0.01886845753, -0.01489247847,-0.008227516897, 0.001036253758,  0.01259176061,
		0.02592583746,  0.04034907371,  0.05504275486,   0.0691191107,  0.08168987185,
		0.09193693846,  0.09917894751,   0.1029274017,   0.1029274017,  0.09917894751,
		0.09193693846,  0.08168987185,   0.0691191107,  0.05504275486,  0.04034907371,
		0.02592583746,  0.01259176061, 0.001036253758,-0.008227516897, -0.01489247847,
	   -0.01886845753, -0.02027382515, -0.01940969378, -0.01671994664, -0.01274157502,
	  -0.008050520904,-0.003208310809, 0.001285555423, 0.005031407811, 0.007754553109,
	   0.009316367097,  0.00971141085, 0.009052068926,  0.00754331518, 0.005451025907,
	   0.003067640355,0.0006789085455,-0.001464965404,-0.003171227872,-0.004317948129,
	  -0.004858331755,-0.004816473462,-0.004275930114,-0.003363149473,-0.002228143858,
	  -0.001024875091,0.0001064150638, 0.001053145737, 0.001739442814, 0.002129817382,
	   0.002227679826, 0.002069481881,  0.00171571027, 0.001240199315,0.0007192638004,
	  0.0002220115275
    }
};
/*
*********************************************************************************
*	Riss BP带通通滤波器
*********************************************************************************
*/
#define RISS_numStages 4
const arm_biquad_casd_df1_inst_f32 RISS_BPF =
{
	.numStages = RISS_numStages,
	.pCoeffs = (float*) (const float[])
	{
	/*** BW=200Hz,Fs=12.000kHz,Fpass=200Hz,Apass=0.1db,Astop=80db BPF***/		
	1,  -1.9086708134227333,  1,   1.9314977573066936,  -0.93935641910732826,
	1,  -1.432793893505969,   1,   1.9061737913578287,  -0.90933575430316849,
	1,  -1.9478976083094914,  1,   1.9674522746324343,  -0.9795439396068194 
	/*** BW=200Hz,Fs=12.000kHz,Fpass1=850Hz,Apass=0.1db,Astop=80db ***/	
//	1,  -1.9941770486071282,  1,   1.9839675349392198,  -0.98447022085872649,
//	1,  -1.9591836490618011,  1,   1.976333673968989,   -0.97653806051919367,
//	1,  -1.9967089864880687,  1,   1.9940736618719117,  -0.99483610765644803
	},
};
const float32_t Riss_ScaleValues=
{
	0.22725075335294434*                                                   
	0.096575309828734829*                                                  
	0.0050143182269984255  

//	0.22799214144631583*                                                   
//	0.086749777531721001*                                                  
//	0.0050056761461948693 		
};
//
/*
*********************************************************************************
*	IIR	FM AGC静噪采样高通滤波器
*********************************************************************************
*/
// 采用 MATLAB fdatool 设计的滤波器 BG2IXD 2020-06-27
// 60kHz sampling rate,  Direct-Form I SOS 采样率80kHz
// IIR Elliptic lowpass 椭圆低通滤波器
// coefficients in reverse order than that spit out by MATLAB
// 注意，实
//
#define IIR_SQL_numStages 4
const arm_biquad_casd_df1_inst_f32 IIR_sql_HP =
{
	.numStages = IIR_SQL_numStages,
	.pCoeffs = (float*) (const float[])
	{
	/*** HP,Fs=15.000kHz,Fpass=3.000Hz,Apass=0.1db,Astop=80db ***/		
	1,  -1.0585954854389725,   1,   0.47587826711637143,  -0.79315510769137432,
	1,  -1.4142644769918706,   1,   0.1190936550046562,   -0.50449318379237273,
	1,  -1.9015871001902955,   1,  -0.36068905309348925,  -0.12750553665141517,
	1,  -0.91575129376690434,  1,   0.63248037405108615,  -0.94520562894162707	
	},
};
/*********************************************************************************/
// 采用 MATLAB fdatool 设计的滤波器 BG2IXD 2020-05-20
// 56k sampling rate,  Direct-Form I SOS 采样率56kHz
// IIR Elliptic lowpass 椭圆低通滤波器
// coefficients in reverse order than that spit out by MATLAB
// 注意，实际使用 ARM 官方的 IIR 函数调用的时候要将 a1 和 a2 取反。
/*
*********************************************************************************
*	AM/FM AF低通通滤波器
*********************************************************************************
*/
//
#define IIR_AF_numStages 4
const arm_biquad_casd_df1_inst_f32 IIR_dfI_AF =
{
	.numStages = IIR_AF_numStages,
	.pCoeffs = (float*) (const float[])
	{
	/*** BW=3500Hz,Fs=12.000kHz,Fpass=3500Hz,Apass=0.1db,Astop=80db ***/		
	1,   1.988832879176206,   1,   1.8948246561215476,     -0.89916602071118101,
	1,  -1.9999869584644823,  1,  -0.0098576453340669529,  -0.12004064917307568,
	1,   1.9365289546435829,  1,  -0.63176468272374531,    -0.66419527855346572,
	1,  -1.9999248915470846,  1,   1.9781695834375155,     -0.98024255022651807
	},
};
const float32_t AF_ScaleValues =
{
	1.8038657738383574*                                                       
	1.8038657738383574*                                                       
	0.21598246043577926*                                                      
	0.21598246043577926   
};
/*
*********************************************************************************
*	CW/SSB AF低通通滤波器
*********************************************************************************
*/
//
#define SSB_AF_numStages 4
const arm_biquad_casd_df1_inst_f32 SSB_dfI_AF =
{
	.numStages = SSB_AF_numStages,
	.pCoeffs = (float*) (const float[])
	{
	/*** BW=2300Hz,Fs=12.000kHz,Fpass=2300Hz,Apass=0.1db,Astop=80db ***/		
		1,   0.19792353452906,      1,   0.73560449537664885,  -0.75593842054987481,
		1,   0.82364344585444682,   1,   0.92631449830743917,  -0.54236892620059984,
		1,   1.7856535455426668,    1,   1.1128970453388103,   -0.35662825895186484,
		1,  -0.045473786539193067,  1,   0.64919290208102576,  -0.92449418542202599
	},
};
const float32_t SSB_AF_ScaleValues =
{
	0.70876886104830328*                                                      
	0.70462981389001589*                                                      
	1.197788060530883*                                                        
	0.0070312887654849438   
};
/*
*********************************************************************************
*	CW低通滤波器
*********************************************************************************
*/
//
#define IIR_50hz_numStages 3
const arm_biquad_casd_df1_inst_f32 IIR_dfI_50hz_LPF =
{
	.numStages = IIR_50hz_numStages,
	.pCoeffs = (float32_t*) (const float32_t[])
	{
	/*** BW=50Hz,Fs=12.000kHz,Fpass=50Hz,Apass=0.1db,Astop=80db ***/			
		1,  -1.99854279584518,    1,   1.9920782787138491,  -0.99220444115822715,
		1,  -1.9897180961592924,  1,   1.9881484683812405,  -0.98819986408442528,
		1,  -1.999176809133999,   1,   1.9972235879680977,  -0.99741445678791762,
//	/*** BW=50Hz,Fs=8.000kHz,Fpass1=725Hz,Fpass2=775Hz;Apass=0.1db,Astop=50db ***/		
//		1,  -1.4263883667209991,   1,   1.6202415813079283,  -0.98076430413940674,
//		1,  -1.8078026211927345,   1,   1.6735353740762073,  -0.98207076107349867,
//		1,   0,                   -1,   1.631918844074451,   -0.96231377797011919
 
	},
};

//
#define IIR_100hz_numStages 3
const arm_biquad_casd_df1_inst_f32 IIR_dfI_100hz_LPF =
{
	.numStages = IIR_100hz_numStages,
	.pCoeffs = (float32_t*) (const float32_t[])
	{
/*** BW=100Hz,Fs=12.000kHz,Fpass=100Hz,Apass=0.01db,Astop=80db ***/			
		1,  -1.9916088691573592,  1,   1.9761115210575246,  -0.97677379160148148,
		1,  -1.9404031621728548,  1,   1.9651124241800462,  -0.96549314844966005,
		1,  -1.9953336076390749,  1,   1.9912254022988021,  -0.99213796248712027
	},
};

//
#define IIR_200hz_numStages 3
const arm_biquad_casd_df1_inst_f32 IIR_dfI_200hz_LPF =
{
	.numStages = IIR_200hz_numStages,
	.pCoeffs = (float32_t*) (const float32_t[])
	{
/*** BW=200Hz,Fs=48.000kHz,Fpass=100Hz,Apass=0.1db,Astop=80db ***/		
		1,  -1.9768015683028728,  1,   1.9671909066927373,  -0.96918608945661644,
		1,  -1.8415319095919516,  1,   1.9528112484305398,  -0.95361946652368956,
		1,  -1.986863871230232,   1,   1.9866616978679448,  -0.98970293166791901	
	},
};
//
#define IIR_300hz_numStages 3
const arm_biquad_casd_df1_inst_f32 IIR_dfI_300hz_LPF =
{
	.numStages = IIR_300hz_numStages,
	.pCoeffs = (float32_t*) (const float32_t[])
	{
/*** BW=300Hz,Fs=12.000kHz,Fpass=150Hz,Apass=0.1db,Astop=80db ***/			
		1,  -1.9481499663277375,  1,   1.949693464066335,   -0.95414806574882471,
		1,  -1.6600929359614036,  1,   1.9294266404525151,  -0.93122484767910518,
		1,  -1.9705478420527689,  1,   1.9777816787622271,  -0.9846042971773189 
	},
};
//
#define IIR_500hz_numStages 5
const arm_biquad_casd_df1_inst_f32 IIR_dfI_500hz_LPF =
{
	.numStages = IIR_500hz_numStages,
	.pCoeffs = (float*) (const float[])
	{
	/*** BW=500Hz,Fs=12.000kHz,Fpass=250Hz,Apass=0.1db,Astop=100db ***/		
		1,  -1.9648513538132573,  1,   1.9628811613733876,  -0.9783499464356149, 
		1,  -1.9503074671892662,  1,   1.9477373277312826,  -0.95919760411143318,
		1,  -1.8945726671232832,  1,   1.9310793658799998,  -0.93736251203152188,
		1,  -1.3034876441278558,  1,   1.9189282043460256,  -0.92123473750685936,
		1,  -1.9694055321494317,  1,   1.9758011921992502,  -0.99333863091856456
//	/*** BW=500Hz,Fs=8.000kHz,Fpass1=500Hz,Fpass2=900Hz;Apass=0.1db,Astop=60db ***/	
//		1,   0.58776621218131542,  1,   1.4939747951383675,  -0.82102475142839637,
//		1,  -1.9882792915114629,   1,   1.6660817723030474,  -0.85846134091942261,
//		1,  -0.78479135932104871,  1,   1.4427022529942,     -0.92103413962461977,
//		1,  -1.9512401920975893,   1,   1.8117571993765635,  -0.95437540558152467
	},
};
//
#define IIR_800hz_numStages 5
const arm_biquad_casd_df1_inst_f32 IIR_dfI_800hz_LPF =
{
	.numStages = IIR_800hz_numStages,
	.pCoeffs = (float*) (const float[])
	{
/*** BW=800Hz,Fs=12.000kHz,Fpass=400Hz,Apass=0.1db,Astop=80db ***/			
		1,  -1.9108473563195894,   1,   1.9264326110357533,  -0.96571476083123209,
		1,  -1.8746639667056288,   1,   1.9066697474515677,  -0.93565214617044223,
		1,  -1.7396788888645458,   1,   1.8858386385350996,  -0.90165749013287977,
		1,  -0.59374289210674613,  1,   1.8709469684248736,  -0.87673531444112052,
		1,  -1.9222615895228576,   1,   1.9447130048862433,  -0.98941219073198616	
	},
};
/*
*********************************************************************************
*	SSB低通滤波器
*********************************************************************************
*/
//
#define IIR_1k5_numStages 5
const arm_biquad_casd_df1_inst_f32 IIR_dfI_1k5_LPF =
{
	.numStages = IIR_1k5_numStages,
	.pCoeffs = (float*) (const float[])
	{

/*** BW=1.500kHz,Fs=12.000kHz,Fpass=750Hz,Apass=0.1db,Astop=80db ***/			
		1,  -1.7710690985312001,   1,   1.8106813126040742,  -0.95009063129933047,
		1,  -1.6989481263418069,   1,   1.7871382051872453,  -0.89563847376132055,
		1,  -1.4374397681635631,   1,   1.7581232068558719,  -0.82129307692928044,
		1,   0.19327153056717802,  1,   1.734333859170494,   -0.7585569577995579, 
		1,  -1.7935545868403744,   1,   1.8312490749292019,  -0.98555496630106887
	
	},
};
//
#define IIR_1k8_numStages 5
const arm_biquad_casd_df1_inst_f32 IIR_dfI_1k8_LPF =
{
	.numStages = IIR_1k8_numStages,
	.pCoeffs = (float*) (const float[])
	{

	/*** BW=1.800kHz,Fs=12.000kHz,Fpass=0.900kHz,Apass=0.5db,Astop=80db ***/
		1,  -1.6750015033145302,   1,   1.7421145744316571,  -0.94100531514140107,
		1,  -1.5760186341356361,   1,   1.7224193928411755,  -0.87689470412966974,
		1,  -1.2299575767888682,   1,   1.699997597412956,   -0.78971386485857686,
		1,   0.55512827641830398,  1,   1.6821227659954188,  -0.71645689574644034,
		1,  -1.7061875491005036,   1,   1.762323971322779,   -0.9828924598685439

	},
};
//
#define IIR_2k1_numStages 5
const arm_biquad_casd_df1_inst_f32 IIR_dfI_2k1_LPF =
{
	.numStages = IIR_2k1_numStages,
	.pCoeffs = (float*) (const float[])
	{

	/*** BW=2.100kHz,Fs=12.000kHz,Fpass=1.050kHz,Apass=0.1db,Astop=80db ***/	
		1,  -1.5649333231727087,   1,   1.6642999390845841,  -0.9323243567453332, 
		1,  -1.4375581501020234,   1,   1.651080416857819,   -0.8589702726770132, 
		1,  -1.0097774778866977,   1,   1.6388730910560263,  -0.75943928526952831,
		1,   0.83735014988184464,  1,   1.6299057994996005,  -0.67599497965218813,
		1,  -1.6055475902268912,   1,   1.6826419420829364,  -0.98034440313851579
	
	},
};
//
#define IIR_2k4_numStages 5
const arm_biquad_casd_df1_inst_f32 IIR_dfI_2k4_LPF =
{
	.numStages = IIR_2k4_numStages,
	.pCoeffs = (float*) (const float[])
	{

	/*** BW=2.400kHz,Fs=12.000kHz,Fpass=1.200kHz,Apass=0.1db,Astop=80db ***/	
		1,  -1.4423922644483245,   1,   1.577721343202187,   -0.92408776149155469,
		1,  -1.2863228058710376,   1,   1.5734241899685442,  -0.84190718325031866,
		1,  -0.78419858596740188,  1,   1.5748018316213159,  -0.73044504262974219,
		1,   1.0564095612525219,   1,   1.5775484428490882,  -0.63703207789812333,
		1,  -1.4928184797141593,   1,   1.5927480130567639,  -0.97792589326778534
	/*** BW=500Hz,Fs=8.000kHz,Fpass1=500Hz,Fpass2=900Hz;Apass=0.1db,Astop=60db ***/	
//		1,   1.6738426696877069,   1,  -0.92333756036279413,  -0.81388014228517502,
//		1,  -1.9941512807945236,   1,   1.9448628962501853,   -0.96584895283035022,
//		1,   1.8571889308808887,   1,   1.807511501813682,    -0.84039346990551433,
//		1,  -1.9975587318587347,   1,  -0.40712593379842799,  -0.38833013270035011,
//		1,   0,                   -1,   0.85360379903796157,  -0.10516789374047769
	},
};
//
#define IIR_2k7_numStages 5
const arm_biquad_casd_df1_inst_f32 IIR_dfI_2k7_LPF =
{
	.numStages = IIR_2k7_numStages,
	.pCoeffs = (float*) (const float[])
	{

	/*** BW=2.600kHz,Fs=12.000kHzFpass=1.350kHz,Apass=0.1db,Astop=75db ***/	
		1,  -1.3545681598013104,   1,   1.515383976008339,   -0.91886216489058625,
		1,  -1.1797745207070234,   1,   1.5182887278674306,  -0.83103043337791083,
		1,  -0.63384913064139092,  1,   1.5304657373161066,  -0.71181784558986805,
		1,   1.1748244285513798,   1,   1.5424981563420384,  -0.61182879994032091,
		1,  -1.4115789925712057,   1,   1.5274405686053627,  -0.97639255273206904
	
	},
};
//
#define IIR_3k_numStages 5
const arm_biquad_casd_df1_inst_f32 IIR_dfI_3k_LPF =
{
	.numStages = IIR_3k_numStages,
	.pCoeffs = (float*) (const float[])
	{

	/*** BW=3.000kHz,Fs=12.000kHzFpass=1.500kHz,Apass=1db,Astop=70db ***/	
		1,  -1.3070368200942966,   1,   1.4194353506734931,  -0.96368820434296265,
		1,  -1.1757091531844539,   1,   1.4612887249844777,  -0.90830268411494841,
		1,  -0.72293017515001434,  1,   1.5437265455992264,  -0.80716787059246276,
		1,   1.0458949971313556,   1,   1.6333056966013841,  -0.69866832279122704,
		1,  -1.346471736231529,    1,   1.4079990030214473,  -0.99065820616265232
	
	},
};
/*
*********************************************************************************
*	AM/FM低通滤波器
*********************************************************************************
*/
//
#define IIR_6k_numStages 4
const arm_biquad_casd_df1_inst_f32 IIR_dfI_6k_LPF =
{
	.numStages = IIR_6k_numStages,
	.pCoeffs = (float*) (const float[])
	{
	/*** BW=6.000kHz,Fs=12.000kHz,Fpass=3.000Hz,Apass=0.1db,Astop=80db ***/		
		1,  1.060743184899704,    1,   0.023528976829150842,  -0.63925391198481818,
		1,  1.4748970004659485,   1,   0.27959590517785909,   -0.35245672665022409,
		1,  1.9214340156899468,   1,   0.51384366800070758,   -0.11366355635709846,
		1,  0.85799291018070345,  1,  -0.12772214198496579,   -0.88306090029129503
	},
};
//
#define IIR_7k_numStages 4
const arm_biquad_casd_df1_inst_f32 IIR_dfI_7k_LPF =
{
	.numStages = IIR_7k_numStages,
	.pCoeffs = (float*) (const float[])
	{

	/*** BW=7.000kHz,Fs=24.000kHz,Fpass=3.500kHz,Apass=0.1db,Astop=80db ***/	
		1,  -0.45708731552867993,  1,   1.1679009035253878,  -0.7919617007516061, 
		1,   0.21094050785630386,  1,   1.249935783075852,   -0.61846790695932052,
		1,   1.6036847080335586,   1,   1.3324886900423047,  -0.47515487161970921,
		1,  -0.68103868713550852,  1,   1.1484325935061541,  -0.93508987163181401	
	},
};
//
#define IIR_8k_numStages 4
const arm_biquad_casd_df1_inst_f32 IIR_dfI_8k_LPF =
{	
	.numStages = IIR_8k_numStages,
	.pCoeffs = (float*) (const float[])
	{

	/*** BW=8.000kHz,Fs=24.000kHz,Fpass=4.000Hz,Apass=0.1db,Astop=80db ***/	
		1,  -0.14973390168693121,  1,   0.97829589348961221,  -0.77355583400356454,
		1,   0.51514934037643945,  1,   1.107725398092622,    -0.58126069996380414,
		1,   1.7028970561307544,   1,   1.234416818666769,    -0.41923821979138198,
		1,  -0.38904804847827357,  1,   0.9297186086742173,   -0.92953358496429894
	},
};
//
#define IIR_9k_numStages 4
const arm_biquad_casd_df1_inst_f32 IIR_dfI_9k_LPF =
{	
	.numStages = IIR_9k_numStages,
	.pCoeffs = (float*) (const float[])
	{

	/*** BW=9.000Hz,Fs=24.000kHz,Fpass=4.500Hz,Apass=0.1db,Astop=80db ***/		
		1,  1.750771073676278,   1,  -1.2024701905694246,   -0.79583048384564536, 
		1,  1.8693572821975315,  1,  -0.77271449312357154,  -0.51599879754565081, 
		1,  1.9817289132339633,  1,  -0.10761213779406827,  -0.095729454739637593,
		1,  1.6872666367143343,  1,  -1.397263690965683,    -0.94368857755004953 
	},
};
//
#define IIR_12k5_numStages 5
/*** BW=12.5000kHz,Fs=48.000kHz,Fpass=6.250kHz,Apass=1.2db,Astop=80db ***/
const arm_biquad_casd_df1_inst_f32 IIR_dfI_12k5_LPF =
{
	.numStages = IIR_12k5_numStages,
	.pCoeffs = (float*) (const float[])
	{
		1,  -1.1860164535150406,   1,   1.4987885564579628,  -0.94371613976806468,
		1,  -0.9568491499136953,   1,   1.5591889186776553,  -0.88823762107148863,
		1,  -0.30489738477186107,  1,   1.6493725573037761,  -0.81822160320705994,
		1,   1.394048602631083,    1,   1.7247680068173445,  -0.76226049373349591,
		1,  -1.2640558022510535,   1,   1.4795645221961227,  -0.98315359257283719
	},

};

// const float ScaleValues[] =
// {
//	 
//	 0.55260203111274886*                                                    
//	 0.45750138268364493*                                                    
//	 0.30330473648222173*                                                    
//	 0.0039980030819790242f,
//	 0.55260203111274886*                                                    
//	 0.45750138268364493*                                                    
//	 0.30330473648222173*                                                    
//	 0.0039980030819790242f,	
// };
//#endif
